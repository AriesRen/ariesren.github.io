---
title: 算法-跳表
date: 2018-12-17 23:33:39
tags: ['算法','跳表']
categories: 算法
mathjax: true
---

<div style="text-align: center;">
{% note success %} 
### 前言
{% endnote %}
</div>

上两节我们讲了二分查找算法。当时讲到，因为二分查找底层依赖的是数组随机访问的特性，所以只能用数组实现。如果数据存储在链表中，就真的没法用二分查找算法吗？

实际上，我们只要对链表稍加改造，就可以支持类似“二分”的查找算法。我们把改造之后的数据结构叫做“跳表”，也就是今天的主要学习内容。

跳表这种数据结构对比来讲，可能会比较陌生，因为一般的数据结构和算法书籍都不会将。但是它确实是一种各方面性能都比较优秀的**动态数据结构**，可以支持快速的插入、删除、查找操作，写起来也不复杂，甚至可以代替**红黑树**。

Redis中的有序集合（Sorted Set）就是用跳表来实现的。如果你有一定基础，应该直到红黑树也可以实现快速的插入、删除和查找操作。**那redis为什么会选择用跳表来实现有序集合呢？**，为什么不用红黑树呢？学完今天的内容，你就知道答案了。


<div style="text-align: center;">
{% note success %} 
### 如何理解"跳表"
{% endnote %}
</div>

对于一个链表来说，即便链表中存储的数据是有序的，如果我们要想在其中查找某个数据，也只能从头到尾遍历列表。这样查找效率就会很低，时间复杂度很高，是O(n)。

{% asset_img 01.jpg %}

那怎样来提高查找效率呢？如果向下图那样，对链表建立一级索引，查找起来是不是就会快很多呢？每两个节点提取一个节点到上一级，我们把抽出来的那一级叫做索引或索引层。你可以看看我画的图，图中的down表示down指针，指向下一级节点。

{% asset_img 02.jpg %}

如果我们现在要查找某个节点，比如13。我们现在索引层遍历，当遍历到索引中值位11的节点时，我们发现下一个节点是17，那要查找的节点13肯定就在这两个节点之间。然后我们通过索引节点的down指针，下降到原始链表，继续遍历。这个时候我们只需要在遍历两个节点，就可以找到值为13的节点了。这样，原来要查找13，需要遍历8个节点，现在只需要遍历6个节点。

从这个例子，我们看出，**加了一层索引之后，查找一个节点需要遍历的节点个数减少了，也就是说查询效率提高了**。那如果我们再加一层索引呢？效率会不会提高更多？

跟前面建立一级索引的方式类似，我们每两个节点都抽出一个节点到二级索引。现在我们再来查找13，只需要遍历

{% asset_img 03.jpg %}






<br>
<br>
<br>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 信息流广告 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-4127326375481893"
     data-ad-slot="9105526840"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>